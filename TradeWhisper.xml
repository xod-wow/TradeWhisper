<Ui xmlns="http://www.blizzard.com/wow/ui/">

  <Script file="TradeWhisper.lua"/>

  <Frame name="TradeWhisper" inherits="DefaultPanelFlatTemplate" mixin="TradeWhisperMixin" parent="UIParent" topLevel="true" movable="true" dontSavePosition="true" registerForDrag="LeftButton" frameStrata="FULLSCREEN_DIALOG" hidden="true">
    <Size x="600" y="96" />
    <Anchors>
      <Anchor point="CENTER" />
    </Anchors>
    <Frames>
      <EditBox parentKey="Message" letters="255" inherits="InputBoxTemplate" autoFocus="false">
        <Size x="512" y="22" />
        <Anchors>
          <Anchor point="CENTER" />
        </Anchors>
      </EditBox>
      <EditBox parentKey="Recipient" letters="48" inherits="InputBoxTemplate" autoFocus="false">
        <Size x="256" y="22" />
        <Anchors>
          <Anchor point="TOP" relativeKey="$parent.Message" relativePoint="BOTTOM" />
        </Anchors>
      </EditBox>
      <Button parentKey="Send" inherits="UIPanelButtonTemplate" text="SEND_MESSAGE">
        <Size x="96" y="22" />
        <Anchors>
          <Anchor point="TOPRIGHT" relativeKey="$parent.Message" relativePoint="BOTTOMRIGHT" />
        </Anchors>
        <Scripts>
          <OnClick>
            self:GetParent():SendWhisper()
          </OnClick>
        </Scripts>
      </Button>
      <Button parentKey="Ignore" inherits="UIPanelButtonTemplate" text="IGNORE">
        <Size x="64" y="22" />
        <Anchors>
          <Anchor point="TOPLEFT" relativeKey="$parent.Message" relativePoint="BOTTOMLEFT" />
        </Anchors>
        <Scripts>
          <OnClick>
            local parent = self:GetParent()
            parent:IgnoreAdd(parent.Recipient:GetText())
            parent:Hide()
          </OnClick>
        </Scripts>
      </Button>
      <Button inherits="UIPanelCloseButton">
        <Anchors>
          <Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" />
        </Anchors>
      </Button>
    </Frames>
    <Scripts>
      <OnLoad method="OnLoad" />
      <OnHide method="OnHide" />
      <OnEvent method="OnEvent" />
      <OnDragStart>
        self:StartMoving()
      </OnDragStart>
      <OnDragStop>
        self:StopMovingOrSizing()
      </OnDragStop>
    </Scripts>
  </Frame>
</Ui>
